<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1440" height="940" viewBox="0 0 1440 940" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="TalentFlow AI system architecture">
  <defs>
    <style>
      .title { font: 700 26px Inter, Arial, sans-serif; fill: #0b0f19; }
      .subtitle { font: 600 18px Inter, Arial, sans-serif; fill: #0b0f19; }
      .label { font: 500 15px Inter, Arial, sans-serif; fill: #111827; text-anchor: middle; }
      .small { font: 500 13px Inter, Arial, sans-serif; fill: #374151; }
      .box { fill: #ffffff; stroke: #111827; stroke-width: 2; rx: 16; }
      .pill { fill: #F3F4F6; stroke: #9CA3AF; stroke-width: 1.5; rx: 12; }
      .cloud { fill: #F0F9FF; stroke: #0369A1; stroke-width: 2; }
      .db { fill: #F8FAFC; stroke: #0F172A; stroke-width: 2; rx: 16; }
      .arrow { stroke: #111827; stroke-width: 2.5; marker-end: url(#arrowhead); fill: none; }
      .dashed { stroke-dasharray: 6 6; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#111827" />
    </marker>
    <marker id="arrowstart" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="10 0, 0 3.5, 10 7" fill="#111827" />
    </marker>
  </defs>

  <text x="40" y="52" class="title">TalentFlow AI — System Architecture</text>
  <text x="40" y="78" class="small">Streamlit + FastAPI + MongoDB + ChromaDB + Azure OpenAI. Voice: Whisper (local) &amp; gTTS.</text>

  <!-- Roles -->
  <g id="roles">
    <rect class="box" x="40" y="120" width="180" height="220"/>
    <text x="130" y="148" class="subtitle" text-anchor="middle">Roles</text>
    <rect class="pill" x="60" y="172" width="140" height="34"/><text x="130" y="194" class="label">Recruiter</text>
    <rect class="pill" x="60" y="216" width="140" height="34"/><text x="130" y="238" class="label">User</text>
    <rect class="pill" x="60" y="260" width="140" height="34"/><text x="130" y="282" class="label">Admin</text>
  </g>

  <!-- Frontend -->
  <g id="frontend">
    <rect class="box" x="260" y="120" width="300" height="300"/>
    <text x="410" y="148" class="subtitle" text-anchor="middle">Streamlit Web App</text>
    <text x="410" y="170" class="small" text-anchor="middle">Dashboards: Recruiter, User, Admin</text>

    <rect class="pill" x="280" y="188" width="260" height="34"/><text x="410" y="210" class="label">JD Generator (PDF export)</text>
    <rect class="pill" x="280" y="230" width="260" height="34"/><text x="410" y="252" class="label">Resume Screener</text>
    <rect class="pill" x="280" y="272" width="260" height="34"/><text x="410" y="294" class="label">Interview Assignment</text>
    <rect class="pill" x="280" y="314" width="260" height="34"/><text x="410" y="336" class="label">Interview Results</text>
  </g>

  <!-- Backend -->
  <g id="backend">
    <rect class="box" x="600" y="120" width="320" height="500"/>
    <text x="760" y="148" class="subtitle" text-anchor="middle">FastAPI Backend</text>
    <text x="760" y="170" class="small" text-anchor="middle">Routes: auth, jd, resume, interview</text>

    <rect class="pill" x="620" y="188" width="280" height="34"/><text x="760" y="210" class="label">Auth Service</text>
    <rect class="pill" x="620" y="230" width="280" height="34"/><text x="760" y="252" class="label">JD Service</text>
    <rect class="pill" x="620" y="272" width="280" height="34"/><text x="760" y="294" class="label">Resume Screening</text>
    <rect class="pill" x="620" y="314" width="280" height="34"/><text x="760" y="336" class="label">Interview Service</text>
    <rect class="pill" x="620" y="356" width="280" height="34"/><text x="760" y="378" class="label">Validation &amp; Upload Handling</text>
    <rect class="pill" x="620" y="398" width="280" height="34"/><text x="760" y="420" class="label">Whisper STT Service (local)</text>
    <rect class="pill" x="620" y="440" width="280" height="34"/><text x="760" y="462" class="label">TTS Service (Google gTTS)</text>
    <rect class="pill" x="620" y="482" width="280" height="34"/><text x="760" y="504" class="label">LangChain + LangGraph</text>
  </g>

  <!-- Databases -->
  <g id="dbs">
    <rect class="db" x="960" y="180" width="200" height="150"/>
    <text x="1060" y="208" class="subtitle" text-anchor="middle">MongoDB</text>
    <text x="1060" y="232" class="small" text-anchor="middle">Users, JDs, Interviews,</text>
    <text x="1060" y="252" class="small" text-anchor="middle">Results &amp; Metadata</text>

    <rect class="db" x="960" y="360" width="200" height="130"/>
    <text x="1060" y="388" class="subtitle" text-anchor="middle">ChromaDB</text>
    <text x="1060" y="412" class="small" text-anchor="middle">Resume embeddings &amp;</text>
    <text x="1060" y="432" class="small" text-anchor="middle">Similarity search</text>
  </g>

  <!-- Azure OpenAI -->
  <g id="azure">
    <ellipse class="cloud" cx="1150" cy="80" rx="140" ry="50"/>
    <text x="1150" y="75" class="subtitle" text-anchor="middle">Azure OpenAI</text>
    <text x="1150" y="95" class="small" text-anchor="middle">GPT‑4o‑mini (JD, interview, scoring)</text>
    <text x="1150" y="113" class="small" text-anchor="middle">Embeddings (semantic similarity)</text>
  </g>

  <!-- Voice Path -->
  <g id="voice">
    <rect class="box" x="260" y="460" width="300" height="160"/>
    <text x="410" y="488" class="subtitle" text-anchor="middle">Voice Path</text>
    <text x="410" y="512" class="small" text-anchor="middle">Candidate speech → Whisper STT (local)</text>
    <text x="410" y="532" class="small" text-anchor="middle">Evaluation &amp; next question → Azure OpenAI</text>
    <text x="410" y="552" class="small" text-anchor="middle">Question audio → Google TTS</text>
  </g>

  <!-- Arrows: Roles -> Frontend -->
  <path class="arrow" d="M220,189 L260,189"/>
  <path class="arrow" d="M220,233 L260,233"/>
  <path class="arrow" d="M220,277 L260,277"/>

  <!-- Frontend -> Backend (center) -->
  <path class="arrow" d="M560,270 L600,270"/>

  <!-- Backend -> Databases (center-lines) -->
  <path class="arrow" d="M920,255 L960,255"/>
  <path class="arrow" d="M920,425 L960,425"/>

  <!-- Backend <-> Azure (bidirectional concept) -->
  <path class="arrow" d="M920,160 C950,130 1000,100 1050,90" marker-end="url(#arrowhead)" marker-start="url(#arrowstart)"/>

  <!-- Voice path connections: Frontend -> Backend STT/TTS services -->
  <path class="arrow dashed" d="M560,520 L620,420"/>
  <path class="arrow dashed" d="M560,520 L620,460"/>

</svg>